ORG D
WORD 667

;; ПЯТАЯ ЛАБОРАТОРНАЯ РАБОТА

ORG 3CF
HALFCONST:  WORD 0009
RORCOUNT: 	WORD 0000
MASK:			WORD 00FF
TEMP: 		WORD 0000
PROGRAM:
BEGIN:
		CLA
		ADD (D)
		MOV TEMP	;; временное хранение букв
		CLA
		SUB HALFCONST
		MOV RORCOUNT
		CLA
		ADD TEMP
ROR_LOOP:		ISZ RORCOUNT;	;; ROR x 8
		BR ROR_CYCLE
		JSR OUTPUT	;; вывод первой буквы
		CLA
		ADD TEMP
		JSR OUTPUT	;; вывод второй буквы
		BR PROGRAM	;; считывание следующих двух букв
EXIT:   HLT
ROR_CYCLE:
		ROR
		BR ROR_LOOP

OUTPUT:
		WORD 0000
		AND MASK
		BEQ EXIT
REQ:	TSF 3
		BR REQ
		OUT 3
		CLF 3
		BR (OUTPUT)

ORG 667
WORDS:
	WORD E2FC
	WORD F7ED